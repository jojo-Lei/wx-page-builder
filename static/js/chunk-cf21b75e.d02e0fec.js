(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf21b75e"],{"30a7":function(t,e,a){"use strict";var i=a("7b54"),s=a.n(i);s.a},3300:function(t,e,a){"use strict";var i=a("f404"),s=a.n(i);s.a},"7b54":function(t,e,a){},c4c7:function(t,e,a){t.exports=a.p+"static/img/nodata.8468dc19.png"},c5c7:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"components-default-style"},[i("div",[i("img",{staticClass:"default-style-img",style:{width:t.width,height:t.height},attrs:{src:a("c4c7"),alt:""}}),i("p",{staticClass:"gray"},[t._v("暂无数据")])])])},s=[],n={name:"notFundData",props:{width:{type:String,default:"128px"},height:{type:String,default:"86px"}}},o=n,c=(a("e872"),a("e90a")),r=Object(c["a"])(o,i,s,!1,null,"4bd414e4",null);e["a"]=r.exports},d860:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix my-page-list"},[a("div",{staticClass:"page-search-wrapper"},[a("el-tabs",{on:{"tab-click":t.handlePageModeClick},model:{value:t.searchParams.pageMode,callback:function(e){t.$set(t.searchParams,"pageMode",e)},expression:"searchParams.pageMode"}},[a("el-tab-pane",{attrs:{name:"h5"}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"nav-tabs-label"},[t._v("H5")])])]),a("el-tab-pane",{attrs:{name:"pc"}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"nav-tabs-label"},[t._v("PC页面")])])]),a("el-tab-pane",{attrs:{name:"longPage",disabled:"true"}},[a("div",{attrs:{slot:"label"},slot:"label"},[a("span",{staticClass:"nav-tabs-label"},[t._v("长页H5")])])])],1)],1),a("div",{staticClass:"page-content"},[a("ul",{staticClass:"page-item-wrapper"},t._l(t.pageList,(function(e,i){return a("li",{key:i,staticClass:"page-item"},[a("div",{staticClass:"header-mask"},[a("div",{staticClass:"details-btn",on:{click:function(a){return t.showPreviewFn(e._id)}}},[t._v("预览")])]),a("div",{staticClass:"cover"},[a("img",{attrs:{src:e.coverImage||t.defaultCoverImage,alt:""}})]),t._m(0,!0),a("div",{staticClass:"page-item-data-pv border-T"},[a("div",{staticClass:"btn-wrapper"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.editPage(e._id)}}},[t._v("编辑")])],1),a("div",{staticClass:"btn-wrapper"},[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(a){return t.copyPage(e._id)}}},[t._v("使用模板")])],1),a("div",{staticClass:"btn-wrapper"},[a("el-dropdown",{attrs:{placement:"top-start"}},[a("span",{staticClass:"el-dropdown-link"},[a("el-button",{attrs:{type:"text",size:"mini"}},[t._v("更多 "),a("i",{staticClass:"el-icon-more-outline"})])],1),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[a("div",{on:{click:function(a){return t.publishPage(e._id)}}},[t._v("发布模板市场")])]),a("el-dropdown-item",[a("div",{on:{click:function(a){return t.deletePage(e._id,i)}}},[t._v("删除")])])],1)],1)],1)])])})),0)]),t.pageList.length?t._e():a("notFundData"),t.showPreview?a("previewPage",{attrs:{pageId:t.previewId},on:{closePreview:function(e){t.showPreview=!1}}}):t._e()],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-item-title border-T"},[a("span",{staticClass:"item-title-i"},[t._v("未命名页面")])])}],n=a("73f6"),o=a("c5c7"),c={name:"",components:{previewPage:n["a"],notFundData:o["a"]},data:function(){return{loading:!1,defaultCoverImage:a("18e4"),pageList:[],previewId:"",showPreview:!1,searchParams:{pageMode:"h5"}}},created:function(){this.getPageList(),this.previewId=this.$route.query.previewId||"",this.previewId&&(this.showPreview=!0)},methods:{getPageList:function(){var t=this;this.$axios.get("/page/myTemplate",this.searchParams).then((function(e){t.pageList=e.body||[]}))},editPage:function(t){this.$router.push({path:"editor",query:{id:t,isTemplate:!0}})},copyPage:function(t){var e=this;this.loading=!0,this.$axios.post("/page/copy/"+t).then((function(t){e.loading=!1,e.$confirm('已添加至"我的作品"中?',"提示",{confirmButtonText:"立即编辑",cancelButtonText:"再逛逛",type:"success"}).then((function(){e.$router.push({path:"editor",query:{id:t.body._id}})})).catch((function(){}))})).catch((function(){e.loading=!1}))},deletePage:function(t,e){var a=this;this.$confirm("此操作将永久删除该页面, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.loading=!0,a.$axios.delete("/page/delete/"+t).then((function(){a.loading=!1,a.pageList.splice(e,1)})).catch((function(){a.loading=!1}))}))},showPreviewFn:function(t){this.previewId=t,this.showPreview=!0},showAddUser:function(){},publishPage:function(t){var e=this;this.loading=!0,this.$axios.post("/page/publish/"+t).then((function(){e.loading=!1,e.$alert("已发布到模板市场","操作提示",{confirmButtonText:"确定"})})).catch((function(){e.loading=!1}))},handlePageModeClick:function(){this.getPageList()}}},r=c,l=(a("3300"),a("30a7"),a("e90a")),d=Object(l["a"])(r,i,s,!1,null,"3c30fc0f",null);e["default"]=d.exports},e872:function(t,e,a){"use strict";var i=a("f8f0"),s=a.n(i);s.a},f404:function(t,e,a){},f8f0:function(t,e,a){}}]);